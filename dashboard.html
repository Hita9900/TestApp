<script>
        import { fetchUserData } from './app.js';
        import { saveData } from './app.js';
</script>
<head>
    <title>Dashboard</title>
    <script src="head.js"></script>
</head>
<div class="dashboard">
    <h2>Your Saved Data</h2>
    <div id="data-list">
        <!-- Data will appear here -->
    </div>
    <br>
    <form onsubmit="saveData(event)">
  <input type="text" id="data-title" placeholder="Title" required>
  <textarea id="data-content" placeholder="Content"></textarea>
  <button type="submit">Save</button>
</form>
</div>

<a href="index.html">log in</a>

<script>
    // Load data when dashboard opens
    document.addEventListener('DOMContentLoaded', async () => {
        const data = await fetchUserData();
        const dataList = document.getElementById('data-list');
        
        if (data.length === 0) {
            dataList.innerHTML = '<p>No data saved yet.</p>';
        } else {
            let html = '';
            data.forEach(item => {
                html += `
                    <div class="data-item">
                        <h3>${item.title}</h3>
                        <p>${item.content}</p>
                    </div>
                `;
            });
            dataList.innerHTML = html;
        }
    });
</script>